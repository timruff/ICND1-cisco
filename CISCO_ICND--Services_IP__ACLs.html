<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Services IP : ACLs</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles4.css" type="text/css" />
</head>
<body>
<div class='page'><h1 class='title'>Services IP : ACLs</h1><br/><strong>Plan</strong><br />• Introduction<br />• ACLs standarts<br />• ACLs étendures<br />   ◇ ACLs étendues : exemples<br />• Description d&#39;une ACL<br />• ACLs nommées<br />• Appliquer une ACL à une interface<br />• Commandes d&#39;information<br /><br /><strong>Introduction</strong><br />• Filtrer les accès<br />   ◇ aux réseaux<br />   ◇ au routeur lui même<br /><br />• relativement à :<br />   ◇ adresse IP<br />      ▪ source<br />      ▪ desitination<br />   ◇ protocole<br />   ◇ numéro de port<br /><br />• sur un trafic entrant ou sortant<br /><br />• analysées de manière séquencielle<br />   ◇ l&#39;ordre des ACLs est donc important<br />   ◇ du plus précis au plus générique<br /><br />• tout trafic est interdit par défaut<br /><br /><strong>ACLs standards</strong><br />• uniquement sur les adresses IP source<br />(config)# access-list number {permit|deny} {host|source source-wildcard|any}<br />   ◇ numner : entre 1 et  99 ou 1300 et 1999<br />11:17 / 21:30<br />• Exemple <br />   ◇ - interdire l&#39;accès suelemnt à tout les membres du réseau 192.168.1.0/24 ainsi qu&#39;à l&#39;hote 192.168.2.10<br />(config)# access-list 1 deny 192.168.1.0 0.0.0.255 <br />(config)# access-list 1 deny host 192.168.2.10<br />(config)# access-list 1 permit any<br /><br /><strong>ACLs étendues</strong><br />• sur les adresses IP source, de destination, le protocole ou le numéro de port<br />(config)# access-list number {deny|permit} protocole source masque-source<br />    [operateur [port]] destination masque-destination<br />    [operateur [port [established][log]<br />   <br />   •  opérateurs :<br />      ◇ eq : égale à<br />      ◇ neq : différent de<br />      ◇ gt : plus grand que<br />      ◇ it : plus petit que<br />   • number : entre 100 et 199 ou 2000 et 2699<br /><br /><strong>ACLs étendues : exemples</strong><br />• interdire tout paquet IP à destinatiion de l&#39;hôte 192.168.2.10<br />(config)# access-list 101 deny ip any host 192.168.2.10<br />11:17 / 21:30<br />• interdire tout segment TCP de port source suppérieur à 1023 et à destination du port 23 de l&#39;hôte 192.168.2.10<br />(config)# access-list 101 deny tcp any gt 1023 host 192.168.2.10 eq 23<br /><br />• interdire tout segment TCP à destination du port 80 et en provenace du réseau 192.168.10.0/24<br />(config)# access-list 101 deny tcp 192.168.10.0 0.0.0.255 any eq http<br /><br /><strong>Description d&#39;une ACL</strong><br />• Il est possible de définir une description d&#39;ACL pour plus de clarté<br />(config)# access-list 101 remark Description de l&#39;ACL<br /><br /><strong>ACLs nommées</strong><br />• Les ACLs numérotées sont complexe à administer dés que leur nombre devient important et qu&#39;elles deviennent complexes<br />   ◇ il est impossible de les modifier<br />   ◇ la seule solution étant de la supprimer et de la réécrire<br /><br />• Une ACL nommée est en revanche modifiable<br />(config)# ip access-list extander <em>nom</em><br />(config-ext-nacl)# {deny|permit} protocole source masque-source ...<br /><br />   ◇ pour ajouter une règle, il suffit d&#39;utiliser la syntaxe de ACLs étendues numérotées, sans “access-list number”<br />      ▪ et d&#39;utiliser la commande “no” pour la supprimer<br /><br /><strong>Appliquer une ACL à une interface</strong><br />(config-if)# ip access-group {number|name} {in|out}<br /><br />• utiliser la commande “no” pour désactiver l&#39;ACL sur l&#39;interface <br /><br /><strong>Commandes d&#39;information</strong><br />• afficher une ACL<br /># show access-lists [number|name]<br /><br />• afficher la configuration d&#39;une interface<br /># show run interface FastEthernat 0/0<br /><br /><strong>Ce qu&#39;on a couvert</strong><br />• Contrôle des accés réseaux et routeur grâce aux ACLs<br />   ◇ différents type d&#39;ACLs<br />   ◇ création<br />   ◇ gestion<br />   ◇ application à une interface<br />   ◇ interrogation<br /><br /><br /></div>
</body>
</html>
