<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Adressage IP :  VLSM et CIDR</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles4.css" type="text/css" />
</head>
<body>
<div class='page'><h1 class='title'>Adressage IP :  VLSM et CIDR</h1><br/><strong>Plan</strong><br />• Introduction<br />• Variable Length Subnet Mask<br />   ◇ Exemple<br />      ▪ présentation<br />      ▪ division<br />      ▪ conclusion<br />• CIDR et le supernetting<br />   ◇ Suite de l&#39;exmple précédent<br /><br /><strong>Introduction</strong><br />• Le concept de classe implique de nombreuse adresses inutilisées<br />   ◇ ex : un organisme gérant une adresse de classe A mais n&#39;utilisant que 1 million d&#39;adresses = plus de 15 millions d&#39;adresses inutilisables<br /><br />• Son abandon est donc proposé en Juin 1992 (RFC 1338)<br />   ◇ et adopté en Septembre 1993 (RFCs 1518 et 1519)<br />      ▪ CIDR : Classless Inter-Domian Routing<br />         - rempalce le concept de classe par celui de supernetting<br />      ▪ on parle alors d&#39;adresses classless<br /><br /><strong>Variable Length Subnet Mask</strong><br />• mentionné dés Août (RFC 95 0)<br /><br />• permet de diviser un réseau en sous-réseaux de tailles variables et non plus fixe<br />   ◇ optimisation de l&#39;adressage<br />   ◇ en établisaant des sous-résaeaux de sous-réseaux<br /><br />• très peu supporté sur le réseaux classful<br />   ◇ extrêment répandu aujourd&#39;hui<br /><br />• bonne pratiques<br />   ◇ partir du plus grand au plus petit ( en nombre d&#39;hôtes)<br />   ◇ toujours prendre la valeur de masque offrant le nombre d&#39;hôtes le plus proche de ( et supérieure à) celui escompté<br />      ▪ à une exception près : prévoir la croissance (modeste) des sous-réseaux (ne pas prendre exactement le nombre escompté)<br /><br />• Remarque : la RFC 1875, relative au VLSM de Décembre 1995, permet de passer outre la RF1860 voulant q&#39;une adresse de réseau (tout les bits à 0) ne soit jamais utilisée pour désigner un de ses sous-réseaux<br />      ▪ de même pour l&#39;adresse de sous-réseaux avec tout ses bits à 1, non utilisable normalement<br />         - le nombre de sous-réseaux pourra donc être de 2^n et non  plus 2^n-1<br /><br /><strong>Exemple : présentation</strong><br />• subdiviser 192.168.56.0/25 au mieux<br />   ◇ plage d&#39;adresses :<br />      ▪ de 192.168.56.0 0000001 /25<br />      ▪ à 192.168.56.0 1111110 ) 126 /25<br />   ◇ en 3 réseau<br />      ▪ N1 : 28 machine -&gt; 5 bits (30 hôtes max) -&gt; /27<br />      ▪ N2 : 10 machine -&gt; 4 bits (14 hôtes max) -&gt; /28<br />      ▪ N3 : 4 machine -&gt; 3 bits (6 hôtes max) -&gt; /29<br />  <br />• 192.168.56.   0     00      00000<br />                          /25  /27     hôte ou sous-réseaux(5 bits)<br /><br />• une sous division à netmask fixe sur 2 bits (/27) donne 3 (éventuellement 4) sous-réseaux de 30 hôtes max<br />   ◇ nous “gâcherions&quot; donc 30-4+30-10+30-28 = 47 adresses<br />   ◇ et nous n&#39;aurions aucun autre sous-réseau disponible pour un usage futur<br /><br /><strong>Exemple : division</strong><br />• On prend le premier  sous réseau /27 pour N1<br />   ◇ soit le 192.168.56.0/27<br />      ▪ de 192.168.56.0 <span style="color:#ff0000;">00</span> 00001 /27 à 192.168.56.0 <span style="color:#ff0000;">00</span> 11110 = 31 /27<br /><br />• Puis on prend le second (192.168.56.0 <span style="color:#ff0000;">01</span> 00000 = 32 /27<br />   ◇ qu&#39;on peu diviser en deux sous-réseaux en /27 de 14 hôtes max<br />      ▪ on prend le premier pour N2 (192.168.56.32/28)<br />         - de 192.168.56.0 <span style="color:#ff0000;">010</span> 0001 = 33 /28 à 192.168.56.0 <span style="color:#ff0000;">010</span> 1110 = 46 /28<br />      ▪ et on peut à nouveau diviser le second en 2 sous-réseaux en /29 (6 hôtes max)<br />         - on prend le permier pour N3 (192.168.56.48/29)<br />         - de 192.168.56.0 <span style="color:#ff0000;">0110</span> 001 = 49/29 à 192.168.56.48/29 <span style="color:#ff0000;">0110</span> 110 = 54 /29<br />         - et le second reste disponible pour un usage futur<br /><br /><strong>Exemple : conclusion</strong><br />• Nous avons donc “gâché&quot; 30-28+14-10+6-4 = 6 adresses<br />   ◇ qui seront bien utiles en cas de croissance de ces sous-réseaux<br /><br />• Et il nous reste de disponible pour un usage futur :<br />   ◇ le sous-réseau 192.168.56.64/27 soit 30 machines<br /><br />• Remarque : gardez à l&#39;esprit de toujours prévoir la croissance de vos sous-réseau<br />   ◇ donc de conserver un  nombre d&#39;adresses disponible suffisant pour chacun<br />      ▪ ne pas prendre forcément le nombre de bits le plus proche, mais le plus adapté  <br /><br /><strong>CIDR et le supernetting</strong><br />• CIDR impliqe l&#39;absence de classe<br />   ◇ donc de net id pré-defini pour désigner l&#39;ensemble de nos sous-réseaux<br /><br />• De plus, VLSM implique qu&#39;un réseau peu être subnété à plusieurs niveaux<br />   ◇  nous avons donc besoin d&#39;une adresse permettant de désigner l&#39;ensemble des sous-réseaux pour chaque niveau<br />      ▪ ainsi, le routeur connectant ces réseaux ne devra propager qu&#39;une table de routage au lieu d&#39;une par sous-réseau<br />      ▪ et ainsi économiser ressource mémoire et processeur<br /><br />• Cele s&#39;appel le supernetting<br />   ◇ opération inverse du sbnetting<br />   ◇ agréger des sous-réseaux en un seul <br /><br /><strong>Suite de l&#39;exemple précédent</strong><br />• Nous avons donc 3 sous-réseaux !<br />   ◇ N1 : 192.168.56.0/27 soit 0 <span style="color:#ff0000;">00</span> 00000<br />   ◇ N2 : 192.168.56.32/28 soit 0 <span style="color:#ff0000;">010</span> 0000<br />   ◇ N3 : 192.168.56.48/29 soit 0 <span style="color:#ff0000;">0110</span> 000<br /><br />• Quel est donc l&#39;adresse permettant d&#39;un réseau englobant ces 3 sous-réseaux ?<br />   ◇ il nous faut donc un réseau englobant les adresses : <br />      ▪ de 192.168.56.0 soit 0 00 00000<br />         - masque /27 soit 255.255.255.1 0000000<br />      ▪ à 192.168.56.55 soit 0 0110 111<br />         - masque /29 soit 255.255.255.11111 000<br />      ▪ le réseaux le plus proche de cette plage d&#39;adresse est donc<br />         - de 192.168.56.0 à 192.168.56.00 0 111111 = 63 <br />         - donc le réseau 192.168.56.0 0 000000 /26<br />            → masque : 255.255.255.11 000000 soit 255.255.255.192<br />         - qui est bien un sous-réseau de 192.168.56.0/25<br /><br /><strong>Ce qu&#39;on a couvert</strong><br />• Les techniques modernes d&#39;adressage<br />   ◇ masques de sous-réseaux de taille variable (VLSM)<br />   ◇ adressage classless<br />      ▪ CIDR et supernetting<br /></div>
</body>
</html>
