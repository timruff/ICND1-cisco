<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Routage IP : OSPF</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles4.css" type="text/css" />
</head>
<body>
<div class='page'><h1 class='title'>Routage IP : OSPF</h1><br/><strong>Plan</strong><br />• Problème du plus court chemin<br />• Limitations de RIP<br />• Open Shortest Path First<br />• Fonctionnement<br />• Area<br />• Activation<br />• Définition du Router-ID<br />• Activation de l&#39;OSPF sur une interface<br />• Interface passive<br />• Commande d&#39;information<br /><br /><strong>Problème du plus court chemin</strong><br />• problème classique de théorie des graphes<br />   ◇ touver le chemin optimal entre les sommets d&#39;un graphe<br />   ◇ particulièrement utile dans le cadrte des résaux<br /><br />• de nombreux algorithmes existent pour résoudre ce problème<br />   ◇ plus ou moins efficaces suivant les contextes<br />   ◇ algorithme de Dijkstra<br />   ◇ Algorithme de Bellman-Ford<br /><br /><img src="images/26-1.png" alt="images/26-1.png" /><br /><br /><strong>Limitations de RIP</strong><br />• protocole à vecteur de distance<br />   ◇ aucune vision globale du réseau<br />      ▪ diffusion des routes de proche en proche<br />   ◇ grand consommation de la bande passante<br />      ▪ particulièrement pour les grands réseaux<br />      ▪ du fait de l&#39;envoi prériodique de toutes les tables de routage en broadcast<br />   ◇ sensible aux boucles de routage<br />      ▪ limite de 15 sauts<br />         - tout réseau au delà de 15 routeurs est considéré comme inaccessible<br /><br />• ne se base que sur le nombre de “sauts” permettant d&#39;atteindre le routeur voisin<br />   ◇ auncune prise en compte de la bande passante de liaisons pour choisir le meilleur chemin possible, ou d&#39;autre information (fiabilité, charge, délai, etc ...)<br /><br /><strong>Open Shortest Path First</strong><br />• protocole à état de lien<br />   ◇ connaissance de l&#39;intégralité de la topologie du réseau<br />      ▪ élimine les boucles de routage<br />   ◇ collecte de l&#39;ensemble des coûts de liens<br />      ▪ en terme de temps<br />      ▪ en continue<br />   ◇ plus grande consommation de ressources processeur<br />      ▪ nécessite des routeurs performants<br /><br /><strong>Fonctionnement</strong><br />1) analyse en continue des connexions vers les éléments proche<br />    - message <em>hello </em>envoyé à intervalles réguliers<br /><br />2) calcul du plus court chemin bers le routeurs voisins<br /><br />3) diffusion de la liste des routes connectées et des états de lien<br />    - propagé de proche en proche<br />    - toutes les 30 minutes (intégralité des LSAs)<br />      * et à chaque changement (LSA modifiés uniquement)<br />    - LSK (Link-State Advertisement)<br />      * l&#39;ensemble des LSAs d&#39;une aire formant la LSDB (Link-State Data Base)<br /><br />4) détermine enfin la route la plus courte pour chaque réseau de la LSDB<br /><br /><strong>Area</strong><br />• sous-ensemble de routeurs<br />   ◇ en bordure duquel un résumé de la LSDB peut-être fait<br />   ◇ chaque sous-réseau appartenant à une seule aire<br /><br />• permet d&#39;éviter de propager l&#39;intégralité de la LSDB<br /><br />•  identifées par des nombres entiers de 32 bits<br />   ◇ souvent notés en notation décimale pointée<br />      ▪ à la manière des adresses IPv4<br /><br />• la configuration d&#39;OSPF devient complexe quand plusieurs aires sont mises en place<br />   ◇ heureusement,   il ne vous est demandé que de savoir le configurer dans une aire unique dans le cadre de la CCENT<br /><br /><strong>Activation</strong><br /># router ospf <em>process-id</em><br />(config-router)#<br /><br />• lancement d&#39;un processus de routage OSPF<br />   ◇ permet d&#39;activer l&#39;OSPF sur le routeur (aucun par défaut)<br />   ◇ ou de passer en mode de configuration de ce processus de routage si déjà actif<br />   ◇ proccess-id : identifiant interne du processus de routage<br />      ▪ n&#39;importe quel entier supérieur ou égal à 1<br /><br /><strong>Définition du Router-ID</strong><br />• Optionnel<br />   ◇ généralement généré automatiquement à partir des adresses IP du routeur an lancement d&#39;OSPF<br /><br />• Valeur explicite<br />(config-router)# router <em>router-id </em><br /><br />• ou par configuration de la plus haute adresse IP de l&#39;interface de loopback<br />(config)#interface loopback 0<br />(config-if)#ip address 172.16.0.1 255.255.255.0<br /><br /><strong>Activation de l&#39;OSPF sur une interface</strong><br />• De manière implicite<br />   ◇ relativement à une adresse  réseau<br />(config-router)# network ip-address wildcard-mask area area-id<br /><br />• Exemple<br />(config)#router ospf 100<br />(config-router)#network 10.0.3.0 0.0.0.255 area 0<br />(config-router)#network 10.0.0.0 0.0.0.255 area 0<br /><br /><strong>Interface passive</strong><br />• Par défaut, un routeur sur lequel OSPF est activé continuera de chercher régulièrement ses “voisins&quot; sur ses interfaces<br />   ◇ par envoi de messages hello à intervalles réguliers<br /><br />• Hors cela peut-être un gâchis de ressources quand il n&#39;y a aucun voisin sur celle-ci <br />   ◇ il est donc possible de mettre une interface en mode passif<br />   ◇ afin qu&#39;elle n&#39;envoie plus de message hello<br /><br />• en mode de configuration du processus de routage<br />(config-router)# passive-interface type number<br /><br />• ou en mode de configuration de l&#39;interface<br />(config-if)# ip ospf passive-interface<br /><br /><strong>Commandes d&#39;information</strong><br /># show  ip ospf<br /><br />•  afficher les informations sur les voisins<br /># show ip ospf neighbor<br /><br /><strong>Ce qu&#39;on a couvert</strong><br />• Gestion de l&#39;OSPF en single-area<br />   ◇ bénéfices par rapport au protocole RIP<br />   ◇ fonctionnement<br />   ◇ activation<br />   ◇ router-id<br />   ◇ configuration<br />   ◇ interfaces passive</div>
</body>
</html>
