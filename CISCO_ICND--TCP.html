<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>TCP</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles4.css" type="text/css" />
</head>
<body>
<div class='page'><h1 class='title'>TCP</h1><br/><strong>Plan</strong><br />• Introduction<br />• Éléments<br />• Segment TCP<br />• Port TCP<br />• Fiabilité<br />• Établissement de connexion<br />• Autre drapeaux<br />• Autres éléments<br /><br /><strong>Introduction</strong><br />• Deux protocoles de couche transport dans le modèle TCP/IP<br />   ◇ TCP : pour le communicatins nécessitant une fiablitlité des données<br />      ▪ Protocole de contrôle de transmission<br />   ◇ UDP : pour les communications privilégiant le débit<br />   <br />• Premettent le dialogue entre applications<br />   ◇ OSI niveau 2 (Liaison) : communication sur réseau local<br />   ◇ OSI niveau 3 (Réseau) : communication entre réseaux<br />      ▪ entre machines distantes<br />   ◇ OSI niveau 4 (Transport) :  communication entre applications distantes<br />  <br /><strong>Éléments</strong><br />• contrôle des données<br />   ◇ mode connecté<br />      ▪ établissement d&#39;une session de communication entre deux hôtes (applications)<br />      ▪ à ne pas confondre avec la couche session du modèle OSI (auth)<br /><br />• régulation du débit<br />   ◇ par émission de messages (segments) de taille variable <br /><br />• multiplexage<br />   ◇ cohabitation sur une même ligne d&#39;inforamtions destinées à diverses applications<br />   ◇ en les identifant grâce à un numéro (de port)<br /><br /><strong>Segment TCP</strong><br /><img src="images/13-1.png" alt="images/13-1.png" /><br /><strong><br />Port TCP</strong><br />• stocké sur 2 octets<br />• défini l&#39;application émettrice et l&#39;application destinataire de l&#39;information<br />• permettent le multiplexage<br /><br />• 3 catgories :<br /><br />• ports “bien connus” (Calle-known ports)<br />   ◇ de 0 à 1023<br />   ◇ assigné par l&#39;IANA<br />      ▪ internet Assigned Numbers Authority<br />         - exemple : FTP (21), SSH (22), HTTP (80)<br />         - voir liste officielle<br /><br />• ports enregistrés (Registered ports)<br />   ◇ de 1024 à 49151<br />   ◇ services<br />      ▪ enregistrés par L&#39;IANA (officiels)<br />         - expamples : OpenVPN (1194), IPSec (1293), Cisco X.25 over TCP (XOT) service (1998)<br />      ▪ ou non officiels<br />         - exemple : Windows Live Messenger (1503)<br /><br />• ports dynamiques / privés<br />   ◇ de 49152 à 65535<br />   ◇ plus rarement utilisés<br /><br /><strong>Fiabilité</strong><br />• numéro de séquence<br />   ◇ associé à un paquet lors de son émission<br /><br />• après réception, un “accusé de réception” est envoyé<br />   ◇ paquet avec drapeaux ACL activé (à 1)<br />   ◇ avec un numéro d&#39;acquittement égal au numéro de séquence du paquet reçu + quantité de données (en octets) reçues<br />   ◇ et un numéro de séquence égal au numéro d&#39;acquittement du paquet reçu<br /><br />• en l&#39;absence de réception de cet “accusé de réception” durant un temps imparti, le paquet est retransmis<br />   ◇ en cas de réception de deux paquets identiques (même numéro de séquence), la machine réceptrice ne considérera que le dernier paquet reçu<br /><br /><img src="images/13-2.png" alt="images/13-2.png" /><br /><br /><strong>Établissement de connexion</strong><br />• “synchronisation” des numéros de séquence<br /><br />• Three-way  handshake<br /><br />• Deux drapeaux :<br />   ◇ SYN : demande de connexion<br />   ◇ ACL :aquittement<br />      ▪ positionné ensuite pour tout les segements échangés sur une connexion établie<br /><br />• 3 étapes :<br />   ◇ demande de connexion<br />   ◇ acquittement + demande de connexion<br />   ◇ acquittement<br /><br /><img src="images/13-3.png" alt="images/13-3.png" /><br /><br /><strong>Autre drapeaux</strong><br />• ECN : signame la présence de congestion<br />   ◇ RFC 3168<br /><br />• URG : données urgentes<br /><br />• PSH : données à envoyer tout de suite (push)<br /><br />• RST : rupture anormale de la connexion (reset)<br /><br />• FIN : demande la FIN de la connexion<br /><br />• Un espace de 5 bits est conservé avant ces drapeaux<br />   ◇ afin de prévoir des éventuels ajouts futurs   <br /><br /><strong>Autres éléments</strong><br />• Taille de l&#39;en-tête<br />   ◇ essentiel, car la taille de champs Options est variable<br /><br />• Fenêtre<br />   ◇ nombre d&#39;octets que le récpeteur souhaite recevoir sans accusé de réception<br /><br />• Somme de contrôle (Cjhecksum ou CRC)<br />   ◇ somme des champs de données de l&#39;en-tête<br />   ◇ afin de permettre de  vérifier l&#39;intégrité de l&#39;en-tête<br />   ◇ cf OSI : répétition avec l&#39;Ethernet, car cloisonnement des couches<br /><br />• Pointeur de données urgentes<br />   ◇ numéro de séquence à partir duquel l&#39;informatio devient urgente<br /><br />• Options<br />   ◇ diverses options<br /><br />• Remplissage<br />   ◇ par des zéros <br />   ◇ afin d&#39;obtenir une taille d&#39;en-tête multiple de 32 bits<br /><br /><strong>Ce qu&#39;on a couvert</strong><br />• Présentation du protocole TCP<br />   ◇ son rôle<br />   ◇ en-tête de segments<br />      ▪ drapeaux<br />   ◇ éléments permettant la fiabilité et le contrôle des données<br />      ▪ connexion<br /><br /><br /></div>
</body>
</html>
