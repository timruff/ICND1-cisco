<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Switching : Première approche de la CLI Cisco IOS</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles4.css" type="text/css" />
</head>
<body>
<div class='page'><h1 class='title'>Switching : Première approche de la CLI Cisco IOS</h1><br/><strong>Plan :</strong> <br />• Introduction<br /><br />• Accéder à la CLI<br />   ◇ Port console<br />      ▪ Paramètres<br />   ◇ Telnet et SSH<br />      ▪ Se connecter via le réseau<br />         - Putty<br /><br />• Mode<br />   ◇ mode “utilisateur” et “privilégié”<br />   ◇ Configuration<br /><br />• Abréviations<br /><br />• Aide<br /><br />• Raccourcis<br /><br /><strong>Introduction</strong><br /><br />• CLI :  Command Line Interface<br />   ◇ interface de configuration en ligne de commande<br />   ◇ l&#39;administrateur rentre une commande<br />      ▪ appuyer sur Entrée envoi cette commande au switch, qui agi en conséquent<br /><br />• IOS : internetwork Operating System<br />   ◇ Système d&#39;exploitation pour la connexion des réseaux<br />   ◇ système d&#39;exploitation de la plupart des équipements Cisco<br />   ◇ beaucoup de commandes vuses dans ce chapitre seront donc applicable aux routeurs<br />   ◇ utilise Tcl (Tool Command Language) pour la CLI et le scripting<br /><br /><strong>Accéder à la CLI</strong><br />• 3 méthode<br />   ◇ console<br />      ▪ port physique<br />   ◇ par le réseau IP<br />      ▪ telnet<br />      ▪ SSH<br /><br />• Il est également possible d&#39;utiliser un outil graphique<br />   ◇ Cisco Security Device Manager (SDM)<br />   ◇ ou son successeur Cisco Configuration Program (CCP)<br /><br /><strong>Port console</strong><br />• port RJ-45<br />   ◇ clairement indiqué (&quot;console&quot;)<br />   ◇ connecté au PC via un câble UTP rollover<br />   ◇ via le port série (RS232 - DB25)<br />      ▪ il est possible d&#39;utiliser un adapteur série-usb pour les PCs récents<br />      ▪ ou un câble RJ-45 to DE-9<br />         - souvent désigné à tord comme port DN9<br /><br />• nécessite un émulateur de terminal<br />   ◇ minicom : libre, pour les systèmes Unix<br />   ◇ teraterm : libre, pour Windows<br />      ▪ bonne alternative à Hyper-Terminal, supprimé de Windows à partir de Vista<br />   ◇ Putty : libre, très complet, compatile Window et Unix<br /><br /><img src="images/16-1.png" alt="images/16-1.png" /><br /><br /><strong>Paramètres</strong><br /><br />• paramètres à respecter :<br />   ◇ 9600 bits/second<br />   ◇ aucun contrôle d flux matériel<br />   ◇ 8-bit ASCII<br />   ◇ pas de bit parité<br />   ◇ 1 bit stop<br /><br />• Voir plus loin pour établir la connexion avec Putty<br /><img src="images/16-2.png" alt="images/16-2.png" /> <br /><br /><strong>Telnet et SSH</strong><br />• deux protocoles client-serveur<br /><br />• telnet<br />   ◇ non sécurisé<br />      ▪ toute communication transmise en clair, mot de passe compris<br />   ◇ port TCP/UDP 23<br /><br />• SSH (Secure Shell)<br />   ◇ sécurisé<br />      ▪ toute communication est authentifiée et chiffrée<br />   ◇ port TCP/UDP 22  <br /><br /><strong>Se connecter via le réseau</strong><br />•  nécessite un client telnet ou SSH<br /><br />• clients basiques<br />   ◇ commande ssh (openssh-client) ou telnet des systèmes unix<br />   ◇ disponible via Cygwin sous Windows<br /><br />• Putty<br />   ◇ client graphique complet<br />   ◇ SSH, Telnet, mais Rlogin, TCP brut et connexion directe <br /><br /><strong>switch et routeur </strong><br />Voir fichier gns3<br /><br />config t    # passer en mode privilégié<br />show run  # voir la configuration<br /><br /><strong>Modes</strong><br />• Dans le terminal, les commandes seront interprétées suivant le “mode” actuel<br /><br />• le prompt indiquera systématiquement le mode actuel<br />   ◇ example : en mode “configuration d&#39;une ligne” <br />   ◇ switch(config-ligne)#<br /><br />•  nous verrons au fur et à mesure les commandes permettant des passer dans chaque “mode”<br /><br />mode “utilisateur” et “privilégié”<br />• Par défaut, suite à de votre connexion, le mode “use EXEC” est utilisé<br />   ◇ ce qui implique qu&#39;il est impossible d&#39;effectuer des commandes néscessitant certains privilèges<br />      ▪ ex : redémarrer le switch grâce à la commande reload<br />   ◇ ceci est indiqué par le prompt “&gt;”<br /><br />• Pour exécuter ces commandes, il vous faudra passer en mode “privilégié”<br />   ◇ “Enable mode”, “privileged mode” ou encore “privileged EXEC mode”<br />   ◇ grâce à la commande enable<br />      ▪ nécessite un mot de passe <br />   ◇ indiqué par le prompt “#”<br /><br /><strong>Configuration</strong><br />• pour modifier le mode de passe du mode enable :<br />• #enable secret password<br />   ◇ en l&#39;absence de ce mot de passe, il est impossible de passer en mode “privilégié” via une connexion telnet ou SSH.<br /><br /><strong>Abréviations</strong><br />• il est possible d&#39;abréger chaque commande<br />   ◇ afin de gagner du temps<br />   ◇ cependant, il sera bien entendu impossible de les abréger au dla d&#39;une certaine limite<br />      ▪ pour évité toute ambiguïté<br /><br />• Exemple <br />   ◇ la commande enable pourra être abrégée en “en” mais pas en “e”<br /><br />• la plupart du temps, les commandes seront écrites complètement dans ce cours<br />   ◇ mais, une fois celles-ci présentées, elles pourront être utilisée sous leur forme abrégées  <br /><br /><strong>Aide</strong><br />Commande                        Description<br />?                                         liste et rapide description des commandes disponibles dans le mode actuel<br />help                                   rapide présentation des manières d&#39;obtenir de l&#39;aide<br />command ?                       liste des premiers paramètres disponibles pour la commande avec leur description<br />com?                                 liste des commandes commençant par “com”<br />command parm?              liste des paramètres commençant par “parm”<br />command parm&lt;tab&gt;    complète la commande si il n&#39;existe qu&#39;une possibilitée<br />command parm1 ?          liste les paramètres suivants disponibles<br /><br /><em><strong>Raccourcis</strong></em><br /><br />Raccourci                           Action<br />flèche haut ou Ctrl-p         remonte d&#39;une commande dans l&#39;historique<br />flèche bas ou Ctrl-n           redescend d&#39;une commande dans l&#39;historique<br />flèche gauche ou Ctrl-b    déplacer la curseur vers la gauche<br />flèche droite ou Ctrl-f        déplacer le curseur vers la droite<br />Backspace                         supprimer le caractère à gauche du curseur<br />Ctrl-a                                  déplacer le curseur en début de ligne<br />Ctrl-e                                  déplacer le curseur en fin de ligne<br />Ctrl-r                                   ré-afficher la ligne de commande et tout ses caractères (très utile quand un message encombre l&#39;affichage)<br />Ctrl-d                                  supprimer le carctère sous le curseur<br />Esc-b                                  se déplacer d&#39;un mot vers la gauche<br />Esc-f                                   se déplacer d&#39;un mot vers la droite<br /><br /><strong>Ce qu&#39;on a couvert</strong><br />• Effectuer une première approche de la CLI Cisco IOS<br />   ◇ savoir comment s&#39;y connecter<br />      ▪ via la console<br />      ▪ ou via le réseau<br />   ◇ comprendre cette interface<br />      ▪ prompt et modes<br />      ▪ abréviations<br />   ◇ comprendre le système de configuration<br />      ▪ running et startup-config<br /> <br /> </div>
</body>
</html>
